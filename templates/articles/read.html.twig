{% extends 'base.html.twig' %} {% block title %} {{ article.titre }}{% endblock %}
{% block stylesheets %} <link rel="stylesheet" href="{{ asset('assets/css/article_view.css') }}"> {% endblock %}
{% block body %}

<!-- articles -->
<section class="article-view">

    <article class="article-viewed main-section">
        <div class="article-category">
            <a href="#" class="url-link">
                <i class="fas fa-code"></i> IT</a>
        </div>
        <div>
            <div class="article-image">
                <img src="{{ article.image }}" alt="">
            </div>
            <div class="article">
                <div class="article-heading"><span class="list-authordate">Écrit le {{ article.datecreation | date('d/m/Y') }} 
                        à {{ article.datecreation | date('H:i') }}, par {{ article.author.login }}. 
                    </span>
                </div>
                <div class="article-content">
                    <h1>{{ article.titre }}</h1>
                    {{ article.content | raw }}
                </div>

                <div id="previous-or-next">
                {% if previous is not null %}
                <a href="{{ path('article_read', {'id' : previous })}}" class="bouton previous-article">
                        <i class="fas fa-arrow-left"></i> Article précédent</a>
                {% endif %}
                {% if next is not null %}
                <a href="{{ path('article_read', {'id' : next })}}" class="bouton next-article">Article suivant
                    <i class="fas fa-arrow-right"></i>
                </a>
                {% endif %}
                </div>

                <div class="article-footer resp-hsize">
                    <span>
                        <span class="dispensable">COMMENTAIRES UTILISATEURS</span>
                        <span id="comment-count" class="comment-count" onclick="showComments()">{{ comments | length }}</span>
                    </span>
                    <span class="socialsharing">
                        <span class="social-before">PARTAGER CET ARTICLE </span>
                        <a href="#" class="url-link">
                            <i class="fab fa-facebook"></i>
                        </a>
                        <a href="#" class="url-link">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#">
                            <i class="fab fa-reddit-square"></i>
                        </a>
                        <a href="#">
                            <i class="fab fa-google-plus"></i>
                        </a>
                    </span>
                </div>
            </div>
        </div>
        <section id="comments-section">
            {% for comment in comments %}
            <div id="com{{ comment.id }}" class="single-comment">
                <div class="comment-leftpanel">
                    <span class="login">{{ comment.author.login }}</span>
                    <span class="subtitle">{{ comment.author.subtitle }}</span>
                    <span>
                        {% if comment.author.signature is not null %}
                        <img class="avatar img-centered" src="{{ comment.author.avatar }}">
                        {% else %}
                        <img class="avatar img-centered" src="http://via.placeholder.com/90x90">
                        {% endif %}
                    </span>
                    <span class="localisation">{{ comment.author.localisation }}</span>
                </div>
                <div class="comment-rightpanel">
                    <div class="comment-header">
                        <span class="comment-date">Posté le {{ comment.datecreation | date('d/m/Y') }} à {{ comment.datecreation | date('H:i') }}.</span>
                        <span class="comment-id">#{{ comment.id }}</span>
                    </div>
                    <div class="comment-content">{{ comment.content }}</div>
                    {% if comment.author.signature is not null %}
                    <div class="comment-signature">{{ comment.author.signature }}</div>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
            <div class="comment-navigation">

            </div>
        </section>
    </article>

</section>
{% if commentform is not null %}

<section class="comment-form">
    <h1>Participer à la discussion</h1>
{{ form_start(commentform) }}
{{ form_row(commentform.content, {'attr' : {'placeholder' : "N'oubliez pas de rester courtois :) ", 'label' : "TESTYTEST" }}) }}
            <button type="submit" onclick="" class="bouton">
                Répondre
            </button>
{{ form_end(commentform) }}
<p>N'oubliez pas que les propos que vous publiez en ligne peuvent heurter votre audience, en publiant un commentaire
        vous acceptez <a href="{{ path('rules') }}">nos règles de modération.</a>
</p>
</section>

{% endif %} 

{% include 'articles/carousel.html.twig' %}

{% endblock %} 

{% block javascripts %}
<script src="{{ asset('assets/js/article_read.js') }}"></script> {% endblock %}